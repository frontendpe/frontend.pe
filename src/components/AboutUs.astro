---
import construccion from "../assets/construccion.png";
---

<!-- Nosotros -->
<section
  id="nosotros"
  class="border border-yellow-500 rounded-[20px] p-4 flex flex-col lg:flex-row justify-center items-center gap-8 sm:gap-10 max-w-6xl mx-[6%] py-12 sm:py-16 px-4 sm:px-6"
>
  <img src={construccion.src} class="w-64 sm:w-72 md:w-80 lg:w-[420px]" />
  <div class="max-w-lg text-center lg:text-left">
    <h3 class="text-2xl sm:text-3xl font-bold text-nav-bg mb-4">
      ¿Quiénes somos?
    </h3>
    <p
      class="leading-relaxed text-texto mb-6 font-regular text-sm sm:text-base"
    >
      Frontend nace con el compromiso de fortalecer el ecosistema del desarrollo
      de software en el Perú, integrando la cultura del Perú con la innovación
      tecnológica. Queremos representar el crecimiento digital del país sin
      perder nuestras raíces, inspirándonos en los elementos que definen la
      identidad peruana en su esencia más auténtica.
    </p>
    <button
      type="button"
      data-modal-open
      class="inline-block cursor-pointer border-2 border-nav-bg px-6 py-3 rounded-full text-nav-bg font-bold hover:bg-nav-bg hover:text-background transition uppercase text-sm sm:text-base"
    >
      Formar parte
    </button>
  </div>
</section>

<div
  class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/60 px-4"
  data-modal
  aria-hidden="true"
>
  <div
    class="relative w-full max-w-lg rounded-lg border border-nav-bg/30 bg-background p-6 shadow-xl"
    role="dialog"
    aria-modal="true"
  >
    <button
      type="button"
      class="absolute right-4 top-4 text-nav-bg transition hover:text-nav-text"
      data-modal-close
      aria-label="Cerrar"
    >
      ✕
    </button>
    <h4 class="text-xl font-bold text-nav-bg uppercase mb-2">
      Únete a la comunidad
    </h4>
    <p class="text-sm sm:text-base text-texto mb-6">
      Conecta con nuestra comunidad y entérate de las últimas novedades en
      nuestros canales oficiales.
    </p>
    <div class="flex flex-col gap-3">
      <a
        href="https://www.facebook.com/groups/261865003878340"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-between rounded-full border border-nav-bg px-5 py-3 text-sm font-bold uppercase text-nav-bg transition hover:bg-nav-bg hover:text-background"
      >
        <span>Facebook</span>
        <span>→</span>
      </a>
      <a
        href="https://www.meetup.com/frontend-pe/"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-between rounded-full border border-nav-bg px-5 py-3 text-sm font-bold uppercase text-nav-bg transition hover:bg-nav-bg hover:text-background"
      >
        <span>Meetup</span>
        <span>→</span>
      </a>
      <a
        href="https://www.instagram.com/frontendpe/"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center justify-between rounded-full border border-nav-bg px-5 py-3 text-sm font-bold uppercase text-nav-bg transition hover:bg-nav-bg hover:text-background"
      >
        <span>Instagram</span>
        <span>→</span>
      </a>
    </div>
  </div>
</div>

<script>
  if (typeof window !== "undefined") {
    window.addEventListener("DOMContentLoaded", () => {
      const modal = document.querySelector("[data-modal]");
      const openButton = document.querySelector("[data-modal-open]");
      const closeButtons = modal?.querySelectorAll("[data-modal-close]");

      if (!(modal instanceof HTMLElement) || !(openButton instanceof HTMLElement)) {
        return;
      }

      const openModal = () => {
        modal.classList.remove("hidden");
        modal.setAttribute("aria-hidden", "false");
        document.body.classList.add("overflow-hidden");
      };

      const closeModal = () => {
        modal.classList.add("hidden");
        modal.setAttribute("aria-hidden", "true");
        document.body.classList.remove("overflow-hidden");
      };

      openButton.addEventListener("click", openModal);
      closeButtons?.forEach((btn) => {
        if (btn instanceof HTMLElement) {
          btn.addEventListener("click", closeModal);
        }
      });

      modal.addEventListener("click", (event) => {
        if (event.target === modal) {
          closeModal();
        }
      });

      window.addEventListener("keydown", (event) => {
        if (event.key === "Escape" && !modal.classList.contains("hidden")) {
          closeModal();
        }
      });
    });
  }
</script>
